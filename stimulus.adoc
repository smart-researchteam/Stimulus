//------------- config --------
:numbered:
:icons: font
:experimental:
:imagesdir: images
:defaultwidth: 80%
:defaultwidthmenu: 40%
:toc: left
:toc-title: Table des Matières
:xrefstyle: short
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
//------------- end config --------

= Formation Stimulus
Jean-Michel Bruel, bruel@irit.fr, {localdate}


//------------- definitions --------
include::definitions.adoc[]

:argosimurl: https://argosim.com/
:argosim: {argosimurl}[Argosim]
:bruno: mailto:bruno.jofret@argosim.com[Bruno Jofret]
:stimulus: https://argosim.com/product-overview/[Stimulus]
:contact: mailto:yves.genevaux@argosim.com[Yves Genevaux]
//------------- end definitions --------

== About...

[horizontal]
When:: January 10 & 11, 2018
Who:: {fg}, {pjc}, {nz}, {jpb}, {jmb}
Teacher:: {bruno}
// Responsable des ingénieurs d'application (ancien INRIA)
Links:: {argosimurl}
Contact:: {contact}

== Install

. Launch the {stimulus} installer
. Generate the number required for the licence
. Send the email to get the licence

WARNING: The tool requires Windows!

== First steps

. Launch {stimulus}
+
//------------- img --------
.Stimulus start page
image::init.png[width={defaultwidth}]
//------------- img --------
. Create a new `project`
//------------- img --------
.New project
image::project.png[width={defaultwidth}]
//------------- img --------
. Create a new `system`
+
//------------- img --------
.New system
image::system.png[width={defaultwidth}]
//------------- img --------
TIP: A `system` can be seen as "anything with ports (inputs/outputs)".
. Create a new `port`, e.g., _Sensor_
+
//------------- img --------
.New port
image::port.png[width={defaultwidth}]
//------------- img --------
. Press the btn:[Run] button image:btn-run.png[width=30]
. Then play with the simulation pad (btn:[Simulate] buttons)
+
//------------- img --------
.First simulation
image::simulate.png[width={defaultwidth}]
//------------- img --------
We can observe that without any constraint, `Sensors` can have any value.
. Drag and drop the `Sensor` port on the main screen (`System`)
. Complete the requirement to write `Sensor < 10` 
. Add the `Sensor > 20` 
+
//------------- img --------
.First requirement
image::firstreq.png[width={defaultwidth}]
//------------- img --------
. Repeat steps 5&6 and observe that, this time, `Sensor` is constrained by the requirement.
+
//------------- img --------
.The requirement is satisfied 
image::firstreqrun.png[width={defaultwidth}]
//------------- img --------


== Basic notions

- Predefined, customizable templates
- Composition
- When porte sur des conditions bolléenne
- Requirements / Scenarios
- Refinment od requirement (from system to subsystems) => block diagram

TIP: High level requirements are transformed as constraints


== Notes

[WARNING]
=====
- Que du fonctionnel temps réel.
- Arrêt au premier conflit
- Les énumérés sont +'EXEMPLE+
- Par "Système" il faut comprendre "fonction"
- Tout ce qui n'est pas interdit est autorisé
=====

== Glossaries

- Click on menu:New[glossary]

Manip d'ajouter le glossaire, de générer les ports à partir des glossaires et inversement
Changer les couleurs

TIP: Commencer par les glossaires

TIP: btn:[clickDroit] menu:Layout[Multiline] (ou CTRL+N)

== Correction de la porte

Exigences de safety. 

Exemple :

.....
when sensor is 'SOMEBODY, Door shall not be 'CLOSED
.....


== Créer un observateur

Ajouter un "paragraphe"

== Reprendre les exigences initiales

Safety violée => scénario

TIP: Cf. "SlidingDoors" qui vient à l'install.

== Editeur

Complétion : CTRL+<space>

== Automates

Automates forts => affablir les transitions (bouton droit)

WARNING: Dérivée penser à [1/second]

menu:Simulation[Multiple Runs]

Transitions probabilistes => poids

Exemple de l'automate A -> B -> C

== Scenarios

. Créer un nouveau package (`Test` par Exemple)
. système 'Context'
. Block diagram
. Régler les pbs de ports
. Ajouter un nouveau systeme pour connecter les entrées (2 scénarios en fait, un par port d'entrée)
. Contraindre les valeurs des sorties dans les scénarios

TIP: On fait les 4 jusqu'à ce qu'on en ai plus à traiter et qu'on s'apperçoive qu'on a toujours le clignotement

En fait le Afterwards ne portait que sur "turn on" du mode Auto!!

Donc on reprend et on enlève le >=70% pour le mettre dans un if en entrée du Do

En fin il reste des "trous" mais c'est normal de laisser un peu de liberté, surtout qu'on est en train de raisonner sur un scénario en particulier.


== Les tests

//------------- img --------
.Et maintenant... les tests!
image::TestEnvironment.png[width={defaultwidth}]
//------------- img --------


Colonne supplémentaires dans le Glossaire pour donner les valeurs des enums.
(Enum Encoding)


On ajoute un paragraphe
on met le controlleur dedans
on passe le paragraphe à Observer (btn:[ClickDroit] menu:Mode[Observer])

Possibilité de jouer tous les tests => suite de test
(Attention, nécessite d'activer la licence qui va bien.)

== Solveur

SEND + MORE = MONEY

== Remplacer les iterateurs etc. pzar des phrases

créer un système
les ports sont les paramètres
Sémantique => utiliser l'itérateur

Cf. phrase par défaut pour faire la même chose

Mots à 4 trous, addition, etc.

créer des variables (pacman avec une flêche)

Coverage sert à vérifier qu'on est bien passé packager tous les cas!

Table 3 capteurs Nominal / Valid / Failure

[appendix]
//:numbered!:

== FAQ

=== How can I find a function or language construct ?

Select the `Library` folder and use the seach bar.
<<search>> illustrates the search for the `when` operator.

//------------- img --------
[[search]]
.Lancement de l'outil
image::recherche.png[width={defaultwidthmenu}]
//------------- img --------
